const { join } = require('path');


module.exports = (program) => {
    program
        .version('0.0.1')
        .command('agents')
        .action(async cmd => {
            let agentsData = JSON.parse(require('fs').readFileSync(join(__dirname , '/../agents.json'), 'utf8'));
            const agents = agentsData.masters.map(master => ({ ...master, type: "master" })).concat(agentsData.workers.map(worker => ({ ...worker, type: 'worker' })))
            console.table(agents);
        });
}